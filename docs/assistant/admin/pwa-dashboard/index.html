<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Cynthia | Mon espace de travail</title>
    
    <!-- PWA Configuration -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#D00">
    <link rel="apple-touch-icon" href="../../assets/images/icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Dashboard Cynthia">
    
    <!-- Styles -->
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="dashboard.css">
</head>
<body class="dashboard-body">
    
    <!-- Header Dashboard -->
    <header class="dashboard-header">
        <div class="header-content">
            <div class="user-info">
                <img src="../../assets/images/cynthia-avatar.jpg" alt="Cynthia" class="user-avatar">
                <div class="user-details">
                    <h2>Cynthia Bernier</h2>
                    <p>Mon espace de travail</p>
                </div>
            </div>
            
            <div class="header-actions">
                <button onclick="toggleEmergencyMode()" class="btn-emergency" id="emergencyBtn">
                    üö® Urgence
                </button>
            </div>
        </div>
    </header>

    <!-- Navigation principale -->
    <nav class="main-nav">
        <button class="nav-btn active" onclick="showSection('overview')" id="overviewBtn">
            üìä Vue d'ensemble
        </button>
        <button class="nav-btn" onclick="showSection('features')" id="featuresBtn">
            ‚öôÔ∏è Mes fonctionnalit√©s
        </button>
        <button class="nav-btn" onclick="showSection('properties')" id="propertiesBtn">
            üè† Mes fiches
        </button>
        <button class="nav-btn" onclick="showSection('contacts')" id="contactsBtn">
            üë• Mes contacts
        </button>
    </nav>

    <!-- Contenu principal -->
    <main class="dashboard-main" id="dashboardContent">
        
        <!-- Section Vue d'ensemble -->
        <section class="dashboard-section active" id="overviewSection">
            <h3>üìä Vue d'ensemble</h3>
            
            <!-- Statistiques rapides -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalProperties">0</div>
                    <div class="stat-label">Propri√©t√©s</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="totalContacts">0</div>
                    <div class="stat-label">Contacts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="activeFeatures">2</div>
                    <div class="stat-label">Fonctions actives</div>
                </div>
            </div>
            
            <!-- Statut fonctionnalit√©s -->
            <div class="card">
                <h4>üéõÔ∏è √âtat de mes outils</h4>
                <div class="features-status" id="featuresOverview">
                    <!-- Charg√© dynamiquement -->
                </div>
            </div>
            
            <!-- Actions rapides -->
            <div class="card">
                <h4>‚ö° Actions rapides</h4>
                <div class="quick-actions">
                    <button class="quick-btn" onclick="createNewProperty()">
                        ‚ûï Nouvelle fiche
                    </button>
                    <button class="quick-btn" onclick="viewContacts()">
                        üë• Voir contacts
                    </button>
                    <button class="quick-btn" onclick="showSection('features')">
                        ‚öôÔ∏è G√©rer outils
                    </button>
                </div>
            </div>
        </section>

        <!-- Section Fonctionnalit√©s ON/OFF -->
        <section class="dashboard-section" id="featuresSection">
            <h3>‚öôÔ∏è Mes fonctionnalit√©s</h3>
            <p class="section-subtitle">Activez/d√©sactivez vos outils selon vos besoins</p>
            
            <!-- API #1 Controls -->
            <div class="card">
                <h4>ü§ñ Outils intelligents (API #1)</h4>
                <div class="features-controls">
                    
                    <div class="feature-control">
                        <div class="feature-info">
                            <h5>ü§ñ Analyse IA des fiches</h5>
                            <p>L'IA analyse automatiquement vos propri√©t√©s et g√©n√®re descriptions professionnelles</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="ia_analysis" onchange="toggleFeature('ia_analysis')">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="feature-control">
                        <div class="feature-info">
                            <h5>üìß Emails automatiques</h5>
                            <p>Envoi automatique des fiches compl√®tes par email</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="auto_email" onchange="toggleFeature('auto_email')">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="feature-control">
                        <div class="feature-info">
                            <h5>üì∑ Optimisation photos</h5>
                            <p>Am√©lioration automatique qualit√© et format des photos</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="photo_optimization" onchange="toggleFeature('photo_optimization')">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                </div>
            </div>
            
            <!-- API #2 Controls -->
            <div class="card">
                <h4>üåê Marketing & Web (API #2)</h4>
                <div class="features-controls">
                    
                    <div class="feature-control">
                        <div class="feature-info">
                            <h5>üåê Site web public</h5>
                            <p>Site web visible par tous avec vos propri√©t√©s</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="public_website" onchange="toggleFeature('public_website')">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="feature-control">
                        <div class="feature-info">
                            <h5>üì± Publicit√©s automatiques</h5>
                            <p>Cr√©ation et gestion automatique pubs Facebook/Google</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="auto_advertising" onchange="toggleFeature('auto_advertising')">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="feature-control">
                        <div class="feature-info">
                            <h5>üìä Analytics & Suivi</h5>
                            <p>Statistiques d√©taill√©es visiteurs et performance</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="analytics_tracking" onchange="toggleFeature('analytics_tracking')">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                </div>
            </div>
            
            <!-- Contr√¥les d'urgence -->
            <div class="card emergency-controls">
                <h4>üö® Contr√¥les d'urgence</h4>
                <div class="emergency-actions">
                    <button class="btn btn-outline" onclick="emergencyMode()">
                        üõë Tout d√©sactiver (urgence)
                    </button>
                    <button class="btn btn-outline" onclick="resetToDefault()">
                        üîÑ Remettre par d√©faut
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Section Propri√©t√©s -->
        <section class="dashboard-section" id="propertiesSection">
            <h3>üè† Mes fiches</h3>
            <div class="properties-list" id="propertiesList">
                <div class="empty-state">
                    <p>Aucune fiche cr√©√©e encore.</p>
                    <button class="btn btn-primary" onclick="createNewProperty()">
                        ‚ûï Cr√©er ma premi√®re fiche
                    </button>
                </div>
            </div>
        </section>
        
        <!-- Section Contacts -->
        <section class="dashboard-section" id="contactsSection">
            <h3>üë• Mes contacts</h3>
            <div class="contacts-list" id="contactsList">
                <div class="empty-state">
                    <p>Aucun contact enregistr√©.</p>
                </div>
            </div>
        </section>
        
    </main>

    <!-- Scripts -->
    <script src="../../config/features-control.js"></script>
    <script src="../../assets/js/identity-protection.js"></script>
    <script src="dashboard.js"></script>

</body>
</html>