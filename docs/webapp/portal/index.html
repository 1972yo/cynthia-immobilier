<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cynthia Bernier - Courtier Immobilier | Lebel-sur-Qu√©villon</title>
    <meta name="description" content="Cynthia Bernier, courti√®re immobili√®re r√©sidentielle √† Lebel-sur-Qu√©villon, Nord-du-Qu√©bec. Services immobiliers professionnels en Abitibi-T√©miscamingue.">
    
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="portal.css">
    
    <!-- PWA Meta -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#D00">
    <link rel="apple-touch-icon" href="../assets/images/icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
</head>
<body class="portal-page">
    
    <!-- Header Cynthia -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="cynthia-info">
                    <img src="../assets/images/cynthia-photo.jpg" alt="Cynthia Bernier" class="cynthia-photo">
                    <div class="cynthia-details">
                        <h1>Cynthia Bernier</h1>
                        <p>Courtier immobilier r√©sidentiel</p>
                        <p>Lebel-sur-Qu√©villon, Nord-du-Qu√©bec</p>
                        <p class="licence">Licence OACIQ : [√Ä configurer]</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Protection identit√© disclaimer -->
    <div class="container">
        <div class="identity-protection">
            ‚ö†Ô∏è <strong>ATTENTION :</strong> 
            Il existe plusieurs courtiers nomm√©s "Cynthia Bernier" au Qu√©bec. 
            Cette page concerne uniquement celle de <strong>Lebel-sur-Qu√©villon, Nord-du-Qu√©bec</strong>.
            üìû V√©rifiez : 418-XXX-XXXX
        </div>
    </div>

    <!-- Contenu adaptatif selon mode ON/OFF -->
    <main class="portal-content" id="portalContent">
        <div class="container">
            <div class="loading-spinner" id="loadingSpinner" style="display: none;">
                <div class="spinner"></div>
                <p>Chargement...</p>
            </div>
            
            <!-- Contenu statique direct -->
            <div class="private-portal">
                
                <!-- Message d'accueil -->
                <div class="card welcome-card">
                    <h2>üè† Bienvenue !</h2>
                    <p>Votre courti√®re immobili√®re de confiance √† Lebel-sur-Qu√©villon</p>
                    <p class="subtitle">Services personnalis√©s en Nord-du-Qu√©bec et Abitibi-T√©miscamingue</p>
                </div>
                
                <!-- Contact direct -->
                <div class="card contact-card">
                    <h3>üí¨ Contactez-moi directement</h3>
                    
                    <div class="contact-grid">
                        <a href="tel:418-XXX-XXXX" class="contact-btn phone">
                            <div class="contact-icon">üìû</div>
                            <div class="contact-info">
                                <span>APPELER</span>
                                <small>418-XXX-XXXX</small>
                            </div>
                        </a>
                        
                        <a href="mailto:cynthia@domain.com" class="contact-btn email">
                            <div class="contact-icon">üìß</div>
                            <div class="contact-info">
                                <span>EMAIL</span>
                                <small>cynthia@domain.com</small>
                            </div>
                        </a>
                        
                        <a href="sms:418-XXX-XXXX" class="contact-btn sms">
                            <div class="contact-icon">üí¨</div>
                            <div class="contact-info">
                                <span>TEXTO</span>
                                <small>Message rapide</small>
                            </div>
                        </a>
                    </div>
                </div>
                
                <!-- Services FONCTIONNELS -->
                <div class="card services-card">
                    <h3>üè† Mes services</h3>
                    <div class="services-grid">
                        <button class="service-item clickable" onclick="window.cynthiaPortal ? window.cynthiaPortal.openInscriptionVente() : openVenteDirecte()">
                            <div class="service-icon">üè†</div>
                            <h4>Vendre ma maison</h4>
                            <p>Inscription de votre propri√©t√©</p>
                            <div class="service-action">‚Üí Formulaire inscription</div>
                        </button>
                        <button class="service-item clickable" onclick="window.cynthiaPortal ? window.cynthiaPortal.openInscriptionAchat() : openAchatDirecte()">
                            <div class="service-icon">üîç</div>
                            <h4>Acheter ma maison</h4>
                            <p>Inscription pour trouver votre propri√©t√©</p>
                            <div class="service-action">‚Üí Formulaire inscription</div>
                        </button>
                        <button class="service-item clickable" onclick="window.cynthiaPortal ? window.cynthiaPortal.openEvaluationGratuite() : openEvaluationDirecte()">
                            <div class="service-icon">üìä</div>
                            <h4>√âvaluation gratuite</h4>
                            <p>Conna√Ætre la valeur de votre bien</p>
                            <div class="service-action">‚Üí Demande d'√©valuation</div>
                        </button>
                    </div>
                </div>
                
            </div>
            
            <!-- Acc√®s discret au dashboard pour Cynthia (MASQU√â par d√©faut) -->
            <div class="admin-access" id="adminAccess" style="display: none;">
                <button onclick="accessDashboardDirecte()" class="btn-admin-access">
                    üì± Mon espace de travail
                </button>
            </div>
            
            <!-- Bouton d'authentification discret pour r√©v√©ler l'acc√®s admin -->
            <div class="auth-trigger" style="text-align: center; margin: 20px 0;">
                <button onclick="toggleAdminAccess()" class="btn-auth-trigger" style="
                    background: transparent;
                    border: 1px solid rgba(0,0,0,0.1);
                    color: #999;
                    padding: 5px 10px;
                    border-radius: 15px;
                    font-size: 11px;
                    cursor: pointer;
                    transition: all 0.3s ease;
                ">üîë</button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="portal-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-info">
                    <h3>Cynthia Bernier</h3>
                    <p>Courtier immobilier r√©sidentiel</p>
                    <p>Lebel-sur-Qu√©villon, Nord-du-Qu√©bec</p>
                    <p>Territoire de service : Abitibi-T√©miscamingue</p>
                </div>
                
                <div class="footer-contact">
                    <h4>Contact</h4>
                    <p>üìû 418-XXX-XXXX</p>
                    <p>üìß cynthia@domain.com</p>
                    <p>üè† Lebel-sur-Qu√©villon, QC</p>
                </div>
                
                <div class="footer-legal">
                    <p><small>¬© 2024 Cynthia Bernier - Tous droits r√©serv√©s</small></p>
                    <p><small>Licence OACIQ : [√Ä configurer]</small></p>
                    <p><small>Courtier immobilier r√©sidentiel</small></p>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../assets/js/identity-protection.js"></script>
    <script src="portal.js"></script>
    
    <!-- Fonctions de fallback pour les boutons -->
    <script>
        // Fonctions de fallback si portal.js n'initialise pas correctement
        function openVenteDirecte() {
            console.log('üè† Ouverture formulaire vente r√©sidentielle');
            const inscriptionUrl = 'http://localhost:8080';
            const newWindow = window.open(inscriptionUrl, '_blank', 'width=1200,height=800');
            
            if (!newWindow) {
                alert('‚ÑπÔ∏è Formulaire d\'inscription\n\nPour inscrire votre propri√©t√© √† vendre, nous allons ouvrir le formulaire complet.\n\nSi la popup est bloqu√©e, naviguez vers :\n' + inscriptionUrl);
            } else {
                console.log('‚úÖ Formulaire inscription ouvert');
            }
        }
        
        function openAchatDirecte() {
            console.log('üîç Ouverture formulaire inscription acheteur');
            const confirmation = confirm('üè† INSCRIPTION ACHETEUR\n\nLe formulaire d\'inscription va s\'ouvrir pour collecter vos crit√®res de recherche.\n\nCynthia utilisera ces informations pour vous trouver la propri√©t√© id√©ale.\n\nContinuer ?');
            
            if (confirmation) {
                const inscriptionUrl = 'http://localhost:8080';
                const newWindow = window.open(inscriptionUrl, '_blank', 'width=1200,height=800');
                
                if (!newWindow) {
                    alert('‚ÑπÔ∏è Formulaire d\'inscription acheteur\n\nPour vos crit√®res de recherche, nous allons ouvrir le formulaire complet.\n\nSi la popup est bloqu√©e, naviguez vers :\n' + inscriptionUrl);
                } else {
                    console.log('‚úÖ Formulaire inscription acheteur ouvert');
                }
            }
        }
        
        function openEvaluationDirecte() {
            console.log('üìä Demande √©valuation gratuite');
            const evaluation = confirm('üìä √âVALUATION GRATUITE\n\nCynthia Bernier offre une √©valuation gratuite de votre propri√©t√©.\n\nAvez-vous l\'adresse exacte de la propri√©t√© √† √©valuer ?');
            
            if (evaluation) {
                const adresse = prompt('üìç Adresse √† √©valuer :\n\nVeuillez indiquer l\'adresse compl√®te de votre propri√©t√© √† Lebel-sur-Qu√©villon ou dans la r√©gion :');
                
                if (adresse && adresse.trim()) {
                    const message = 'Bonjour Cynthia,\n\nJe souhaiterais obtenir une √©valuation gratuite pour ma propri√©t√© :\n\nüìç Adresse : ' + adresse + '\n\nMerci de me contacter pour planifier la visite.\n\nCordialement';
                    const emailUrl = 'mailto:cynthia@domain.com?subject=Demande d\'√©valuation gratuite - ' + adresse + '&body=' + encodeURIComponent(message);
                    window.open(emailUrl, '_blank');
                    
                    alert('‚úÖ Demande d\'√©valuation envoy√©e !\n\nCynthia vous contactera rapidement pour planifier la visite de votre propri√©t√© au ' + adresse + '.\n\nüìû En cas d\'urgence : 418-XXX-XXXX');
                }
            } else {
                alert('üìû Contactez directement Cynthia :\n\nT√©l√©phone : 418-XXX-XXXX\nEmail : cynthia@domain.com\n\nElle vous guidera pour l\'√©valuation gratuite !');
            }
        }
        
        function accessDashboardDirecte() {
            console.log('üîê Fonction accessDashboardDirecte appel√©e');
            
            const isAuthentic = confirm('üîê Acc√®s Dashboard Cynthia\n\nConfirmez-vous √™tre Cynthia Bernier de Lebel-sur-Qu√©villon ?\n\nCette v√©rification prot√®ge vos donn√©es confidentielles.');
            
            if (isAuthentic) {
                // Rediriger vers le dashboard PWA int√©gr√©
                const dashboardUrl = 'http://localhost:8081/admin/pwa-dashboard/';
                console.log('üìä Tentative ouverture:', dashboardUrl);
                
                const newWindow = window.open(dashboardUrl, '_blank', 'width=1400,height=900');
                
                if (!newWindow) {
                    alert('‚ö†Ô∏è Dashboard non disponible.\n\nAssurez-vous que CYNTHIA_WEBAPP est d√©marr√© sur le port 8081.\n\nüí° Lancez bouton.bat dans le dossier CYNTHIA_WEBAPP');
                } else {
                    console.log('‚úÖ Dashboard PWA Cynthia ouvert avec succ√®s');
                }
            } else {
                console.log('‚ùå Authentification annul√©e');
            }
        }
        
        // Fonction d'authentification pour r√©v√©ler l'acc√®s admin
        function toggleAdminAccess() {
            console.log('üîë Tentative d\'authentification admin...');
            
            const adminAccess = document.getElementById('adminAccess');
            
            // Si d√©j√† affich√©, le masquer
            if (adminAccess.style.display !== 'none') {
                adminAccess.style.display = 'none';
                console.log('üîí Acc√®s admin masqu√©');
                return;
            }
            
            // Demander authentification avec codes multiples
            const authCode = prompt(`üîê ACC√àS ADMINISTRATEUR CYNTHIA BERNIER

‚ö†Ô∏è ACC√àS RESTREINT - Lebel-sur-Qu√©villon uniquement

Veuillez entrer le code d'authentification :`);
            
            if (!authCode) {
                console.log('‚ùå Authentification annul√©e');
                return;
            }
            
            // Codes d'acc√®s s√©curis√©s (plusieurs options pour flexibilit√©)
            const validCodes = [
                'CYNTHIA2024',
                'LEBEL2024', 
                'NORDQUEBEC',
                'BERNIER',
                'ADMIN2024'
            ];
            
            if (validCodes.includes(authCode.toUpperCase().trim())) {
                // Authentification r√©ussie
                adminAccess.style.display = 'block';
                console.log('‚úÖ Authentification admin r√©ussie');
                
                // Notification de s√©curit√©
                setTimeout(() => {
                    alert('‚úÖ Acc√®s administrateur activ√©\n\nüîê Mode Cynthia Bernier - Lebel-sur-Qu√©villon\n\nVous pouvez maintenant acc√©der √† votre espace de travail.');
                }, 100);
                
                // Auto-masquer apr√®s 10 minutes pour s√©curit√©
                setTimeout(() => {
                    adminAccess.style.display = 'none';
                    console.log('üîí Auto-masquage s√©curis√© apr√®s 10 min');
                }, 600000); // 10 minutes
                
            } else {
                console.warn('‚ö†Ô∏è Tentative d\'acc√®s admin avec code incorrect:', authCode);
                alert('‚ùå Code d\'authentification incorrect\n\nüîê Acc√®s refus√©\n\nSeule Cynthia Bernier de Lebel-sur-Qu√©villon peut acc√©der √† cet espace.');
                
                // Log de s√©curit√©
                console.warn('üö® TENTATIVE D\'ACC√àS NON AUTORIS√â - Code:', authCode, '- Timestamp:', new Date().toISOString());
            }
        }
        
        // Test que la fonction est bien charg√©e
        console.log('‚úÖ Fonctions de s√©curit√© charg√©es');
    </script>

</body>
</html>