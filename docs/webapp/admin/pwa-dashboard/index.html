<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Cynthia Bernier - Espace de Travail</title>
    <meta name="description" content="Dashboard professionnel de Cynthia Bernier, courtiÃ¨re immobiliÃ¨re rÃ©sidentielle Ã  Lebel-sur-QuÃ©villon">
    
    <link rel="stylesheet" href="dashboard.css">
    
    <!-- PWA Meta -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#D00">
    <link rel="apple-touch-icon" href="../../assets/images/icon-192.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
</head>
<body class="dashboard-page">
    
    <!-- Header Dashboard -->
    <header class="dashboard-header">
        <div class="container">
            <div class="header-content">
                <div class="cynthia-info">
                    <div class="cynthia-details">
                        <h1>ğŸ“Š Dashboard Cynthia Bernier</h1>
                        <p>Espace de travail professionnel - Lebel-sur-QuÃ©villon</p>
                    </div>
                </div>
                <div class="header-actions">
                    <button onclick="refreshDashboard()" class="btn-refresh">ğŸ”„ Actualiser</button>
                    <button onclick="openPortal()" class="btn-portal">ğŸŒ Retour Portail</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Dashboard Content -->
    <main class="dashboard-content" id="dashboardContent">
        <div class="container">
            
            <!-- Stats rapides -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“‹</div>
                    <div class="stat-info">
                        <h3 id="totalForms">0</h3>
                        <p>Formulaires reÃ§us</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ </div>
                    <div class="stat-info">
                        <h3 id="totalVentes">0</h3>
                        <p>Inscriptions vente</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ”</div>
                    <div class="stat-info">
                        <h3 id="totalAchats">0</h3>
                        <p>Demandes achat</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“Š</div>
                    <div class="stat-info">
                        <h3 id="totalEvaluations">0</h3>
                        <p>Ã‰valuations demandÃ©es</p>
                    </div>
                </div>
            </div>

            <!-- Actions rapides -->
            <div class="card actions-card">
                <h2>âš¡ Actions rapides</h2>
                <div class="actions-grid">
                    <button onclick="openEmailIA()" class="action-btn action-btn-featured">
                        <div class="action-icon">ğŸ¤–</div>
                        <h4>Gestion Emails & IA</h4>
                        <p>Assistant intelligent pour emails</p>
                    </button>
                    <button onclick="openMarketingIA()" class="action-btn action-btn-featured-marketing">
                        <div class="action-icon">ğŸŒ</div>
                        <h4>IA Marketing & Publication</h4>
                        <p>Site web, fiches, rÃ©seaux sociaux</p>
                    </button>
                    <button onclick="openFormulaire()" class="action-btn">
                        <div class="action-icon">ğŸ“</div>
                        <h4>Nouveau formulaire</h4>
                        <p>Ouvrir CYNTHIA_ASSISTANT</p>
                    </button>
                    <button onclick="openFicheEditor()" class="action-btn action-btn-editor">
                        <div class="action-icon">ğŸ¨</div>
                        <h4>Ã‰diteur de fiches</h4>
                        <p>CrÃ©er et modifier fiches personnalisÃ©es</p>
                    </button>
                    <button onclick="openCentris()" class="action-btn">
                        <div class="action-icon">ğŸ”—</div>
                        <h4>Centris.ca</h4>
                        <p>AccÃ©der Ã  la plateforme</p>
                    </button>
                    <button onclick="openHomePWA()" class="action-btn action-btn-pwa">
                        <div class="action-icon">ğŸ </div>
                        <h4>Voir mon site</h4>
                        <p>AccÃ©der Ã  la PWA d'accueil</p>
                    </button>
                    <button onclick="openSiteManager()" class="action-btn action-btn-site">
                        <div class="action-icon">ğŸŒ</div>
                        <h4>GÃ©rer mon site</h4>
                        <p>Modifier contenu et marketing</p>
                    </button>
                    <button onclick="openFicheManager()" class="action-btn action-btn-fiche">
                        <div class="action-icon">ğŸ“‹</div>
                        <h4>GÃ©rer mes fiches</h4>
                        <p>CrÃ©er et modifier fiches clients</p>
                    </button>
                    <button onclick="exportData()" class="action-btn">
                        <div class="action-icon">ğŸ“¤</div>
                        <h4>Exporter donnÃ©es</h4>
                        <p>TÃ©lÃ©charger les fiches</p>
                    </button>
                    <button onclick="manageClients()" class="action-btn">
                        <div class="action-icon">ğŸ‘¥</div>
                        <h4>Gestion clients</h4>
                        <p>Voir tous les contacts</p>
                    </button>
                </div>
            </div>

            <!-- ContrÃ´les systÃ¨me ON/OFF -->
            <div class="card system-controls-card">
                <h2>âš™ï¸ ContrÃ´les systÃ¨me</h2>
                <div class="controls-grid">
                    <div class="control-item">
                        <div class="control-info">
                            <h4>ğŸ¤– Assistant IA</h4>
                            <p>Suggestions automatiques d'emails</p>
                        </div>
                        <div class="control-switch">
                            <label class="switch">
                                <input type="checkbox" id="aiAssistantToggle" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                    <div class="control-item">
                        <div class="control-info">
                            <h4>ğŸ“§ Email automatique</h4>
                            <p>Envoi auto des confirmations</p>
                        </div>
                        <div class="control-switch">
                            <label class="switch">
                                <input type="checkbox" id="autoEmailToggle" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                    <div class="control-item">
                        <div class="control-info">
                            <h4>ğŸ”” Notifications push</h4>
                            <p>Alertes nouveaux formulaires</p>
                        </div>
                        <div class="control-switch">
                            <label class="switch">
                                <input type="checkbox" id="notificationsToggle" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                    <div class="control-item">
                        <div class="control-info">
                            <h4>ğŸ“Š Analytics avancÃ©es</h4>
                            <p>Suivi dÃ©taillÃ© des performances</p>
                        </div>
                        <div class="control-switch">
                            <label class="switch">
                                <input type="checkbox" id="analyticsToggle">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                    <div class="control-item">
                        <div class="control-info">
                            <h4>ğŸŒ Site public</h4>
                            <p>AccessibilitÃ© publique du portail</p>
                        </div>
                        <div class="control-switch">
                            <label class="switch">
                                <input type="checkbox" id="publicSiteToggle">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                    <div class="control-item">
                        <div class="control-info">
                            <h4>ğŸ”„ Sync automatique</h4>
                            <p>Synchronisation des donnÃ©es</p>
                        </div>
                        <div class="control-switch">
                            <label class="switch">
                                <input type="checkbox" id="autoSyncToggle" checked>
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ParamÃ¨tres & Profil -->
            <div class="card settings-card">
                <h2>âš™ï¸ ParamÃ¨tres & Profil</h2>
                <div class="settings-tabs">
                    <button onclick="showSettingsTab('profile')" class="settings-tab active" data-tab="profile">ğŸ‘¤ Profil</button>
                    <button onclick="showSettingsTab('security')" class="settings-tab" data-tab="security">ğŸ” SÃ©curitÃ©</button>
                    <button onclick="showSettingsTab('preferences')" class="settings-tab" data-tab="preferences">ğŸ¨ PrÃ©fÃ©rences</button>
                    <button onclick="showSettingsTab('backup')" class="settings-tab" data-tab="backup">ğŸ’¾ Sauvegarde</button>
                </div>
                <div class="settings-content">
                    <!-- Onglet Profil -->
                    <div id="profile-tab" class="settings-tab-content active">
                        <div class="profile-section">
                            <div class="profile-photo-section">
                                <div class="current-photo">
                                    <img src="../../assets/images/cynthia-photo.jpg" alt="Photo Cynthia" id="profilePhotoPreview" class="profile-photo-img">
                                    <div class="photo-overlay">
                                        <button onclick="changeProfilePhoto()" class="btn-change-photo">ğŸ“· Changer</button>
                                    </div>
                                </div>
                                <input type="file" id="photoUpload" accept="image/*" style="display: none;">
                            </div>
                            <div class="profile-info-section">
                                <div class="info-group">
                                    <label>ğŸ‘¤ Nom complet</label>
                                    <input type="text" id="profileName" value="Cynthia Bernier" class="settings-input">
                                </div>
                                <div class="info-group">
                                    <label>ğŸ’¼ Titre professionnel</label>
                                    <input type="text" id="profileTitle" value="CourtiÃ¨re immobiliÃ¨re rÃ©sidentielle" class="settings-input">
                                </div>
                                <div class="info-group">
                                    <label>ğŸ“ Localisation</label>
                                    <input type="text" id="profileLocation" value="Lebel-sur-QuÃ©villon, Nord-du-QuÃ©bec" class="settings-input">
                                </div>
                                <div class="info-group">
                                    <label>ğŸ“ TÃ©lÃ©phone principal</label>
                                    <input type="tel" id="profilePhone" value="418-XXX-XXXX" class="settings-input">
                                </div>
                                <div class="info-group">
                                    <label>ğŸ“§ Email professionnel</label>
                                    <input type="email" id="profileEmail" value="cynthia@domain.com" class="settings-input">
                                </div>
                                <div class="info-group">
                                    <label>ğŸ¢ Licence OACIQ</label>
                                    <input type="text" id="profileLicense" placeholder="NumÃ©ro de licence" class="settings-input">
                                </div>
                                <button onclick="saveProfileSettings()" class="btn-save-settings">ğŸ’¾ Sauvegarder le profil</button>
                            </div>
                        </div>
                    </div>

                    <!-- Onglet SÃ©curitÃ© -->
                    <div id="security-tab" class="settings-tab-content">
                        <div class="security-section">
                            <div class="security-item">
                                <h4>ğŸ”‘ Codes d'accÃ¨s dashboard</h4>
                                <p>GÃ©rer les codes d'authentification pour accÃ©der au dashboard</p>
                                <div class="codes-list" id="accessCodesList">
                                    <div class="code-item">
                                        <span class="code-value">CYNTHIA2024</span>
                                        <button onclick="removeAccessCode('CYNTHIA2024')" class="btn-remove-code">ğŸ—‘ï¸</button>
                                    </div>
                                    <div class="code-item">
                                        <span class="code-value">LEBEL2024</span>
                                        <button onclick="removeAccessCode('LEBEL2024')" class="btn-remove-code">ğŸ—‘ï¸</button>
                                    </div>
                                </div>
                                <button onclick="addNewAccessCode()" class="btn-add-code">â• Ajouter un code</button>
                            </div>
                            <div class="security-item">
                                <h4>ğŸ” Mot de passe principal</h4>
                                <p>Changez votre mot de passe principal (optionnel)</p>
                                <div class="password-change">
                                    <input type="password" id="currentPassword" placeholder="Mot de passe actuel" class="settings-input">
                                    <input type="password" id="newPassword" placeholder="Nouveau mot de passe" class="settings-input">
                                    <input type="password" id="confirmPassword" placeholder="Confirmer nouveau mot de passe" class="settings-input">
                                    <button onclick="changePassword()" class="btn-change-password">ğŸ”„ Changer le mot de passe</button>
                                </div>
                            </div>
                            <div class="security-item">
                                <h4>ğŸ•’ Sessions actives</h4>
                                <p>GÃ©rer les sessions de connexion actives</p>
                                <div class="sessions-list">
                                    <div class="session-item">
                                        <div class="session-info">
                                            <strong>Session actuelle</strong>
                                            <small>Windows PC - Chrome - Maintenant</small>
                                        </div>
                                        <span class="session-status active">ğŸŸ¢ Active</span>
                                    </div>
                                </div>
                            </div>
                            <div class="security-item">
                                <h4>ğŸ”§ AccÃ¨s technique Ã  distance</h4>
                                <p>Autoriser l'Ã©quipe technique Ã  accÃ©der temporairement pour assistance</p>
                                <div class="remote-access-controls">
                                    <div class="access-status" id="remoteAccessStatus">
                                        <span class="status-indicator offline">ğŸ”´</span>
                                        <span class="status-text">AccÃ¨s technique dÃ©sactivÃ©</span>
                                    </div>
                                    <div class="access-actions">
                                        <button onclick="enableRemoteAccess()" class="btn-enable-remote" id="enableRemoteBtn">
                                            ğŸ”§ Activer accÃ¨s tech (30 min)
                                        </button>
                                        <button onclick="disableRemoteAccess()" class="btn-disable-remote" id="disableRemoteBtn" style="display: none;">
                                            âŒ DÃ©sactiver accÃ¨s tech
                                        </button>
                                        <button onclick="generateSupportCode()" class="btn-support-code">
                                            ğŸ”‘ GÃ©nÃ©rer code support
                                        </button>
                                    </div>
                                    <div class="support-info" id="supportInfo" style="display: none;">
                                        <div class="support-code-display">
                                            <strong>Code support:</strong>
                                            <span class="support-code" id="supportCodeDisplay">SUPPORT-XXXX</span>
                                            <button onclick="copySupportCode()" class="btn-copy-code">ğŸ“‹</button>
                                        </div>
                                        <small class="support-note">Partagez ce code avec l'Ã©quipe technique pour assistance</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Onglet PrÃ©fÃ©rences -->
                    <div id="preferences-tab" class="settings-tab-content">
                        <div class="preferences-section">
                            <div class="pref-group">
                                <h4>ğŸ¨ Apparence</h4>
                                <div class="pref-item">
                                    <label>ThÃ¨me interface</label>
                                    <select id="themeSelect" class="settings-select">
                                        <option value="light">â˜€ï¸ Clair</option>
                                        <option value="dark">ğŸŒ™ Sombre</option>
                                        <option value="auto">ğŸ”„ Automatique</option>
                                    </select>
                                </div>
                                <div class="pref-item">
                                    <label>Couleur d'accent</label>
                                    <div class="color-picker">
                                        <button class="color-option active" data-color="#D00" style="background: #D00;"></button>
                                        <button class="color-option" data-color="#0ea5e9" style="background: #0ea5e9;"></button>
                                        <button class="color-option" data-color="#7c3aed" style="background: #7c3aed;"></button>
                                        <button class="color-option" data-color="#059669" style="background: #059669;"></button>
                                        <button class="color-option" data-color="#ea580c" style="background: #ea580c;"></button>
                                    </div>
                                </div>
                            </div>
                            <div class="pref-group">
                                <h4>ğŸ”” Notifications</h4>
                                <div class="pref-item">
                                    <label>Notifications email</label>
                                    <label class="pref-switch">
                                        <input type="checkbox" id="emailNotifications" checked>
                                        <span class="pref-slider"></span>
                                    </label>
                                </div>
                                <div class="pref-item">
                                    <label>Son de notification</label>
                                    <label class="pref-switch">
                                        <input type="checkbox" id="soundNotifications">
                                        <span class="pref-slider"></span>
                                    </label>
                                </div>
                                <div class="pref-item">
                                    <label>Notifications desktop</label>
                                    <label class="pref-switch">
                                        <input type="checkbox" id="desktopNotifications" checked>
                                        <span class="pref-slider"></span>
                                    </label>
                                </div>
                            </div>
                            <div class="pref-group">
                                <h4>ğŸ  PrÃ©fÃ©rences mÃ©tier</h4>
                                <div class="pref-item">
                                    <label>Secteurs de service prioritaires</label>
                                    <textarea id="serviceSectors" class="settings-textarea" placeholder="Ex: Lebel-sur-QuÃ©villon, Val-d'Or, Amos...">Lebel-sur-QuÃ©villon, Nord-du-QuÃ©bec, Abitibi-TÃ©miscamingue</textarea>
                                </div>
                                <div class="pref-item">
                                    <label>Signature email par dÃ©faut</label>
                                    <textarea id="emailSignature" class="settings-textarea" placeholder="Votre signature professionnelle">Cynthia Bernier
CourtiÃ¨re immobiliÃ¨re rÃ©sidentielle
ğŸ“ 418-XXX-XXXX
ğŸ“§ cynthia@domain.com
ğŸ  Lebel-sur-QuÃ©villon, QC</textarea>
                                </div>
                            </div>
                            <button onclick="savePreferences()" class="btn-save-settings">ğŸ’¾ Sauvegarder les prÃ©fÃ©rences</button>
                        </div>
                    </div>

                    <!-- Onglet Sauvegarde -->
                    <div id="backup-tab" class="settings-tab-content">
                        <div class="backup-section">
                            <div class="backup-item">
                                <h4>ğŸ’¾ Sauvegarde automatique</h4>
                                <p>Vos donnÃ©es sont sauvegardÃ©es automatiquement dans le navigateur</p>
                                <div class="backup-info">
                                    <div class="backup-stat">
                                        <strong>DerniÃ¨re sauvegarde:</strong> <span id="lastBackupTime">Maintenant</span>
                                    </div>
                                    <div class="backup-stat">
                                        <strong>Taille des donnÃ©es:</strong> <span id="dataSize">Calcul...</span>
                                    </div>
                                </div>
                            </div>
                            <div class="backup-actions">
                                <button onclick="createBackup()" class="btn-backup">ğŸ“¤ CrÃ©er une sauvegarde</button>
                                <button onclick="restoreBackup()" class="btn-restore">ğŸ“¥ Restaurer sauvegarde</button>
                                <button onclick="clearAllData()" class="btn-clear-data">ğŸ—‘ï¸ Effacer toutes les donnÃ©es</button>
                            </div>
                            <div class="backup-item">
                                <h4>â˜ï¸ Synchronisation cloud (Ã  venir)</h4>
                                <p>Prochainement: synchronisation avec Google Drive, OneDrive</p>
                                <button disabled class="btn-cloud-sync">â˜ï¸ Configurer sync cloud</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Notifications rÃ©centes -->
            <div class="card notifications-card">
                <h2>ğŸ”” Notifications rÃ©centes</h2>
                <div class="notifications-list" id="notificationsList">
                    <div class="notification-item">
                        <div class="notification-icon">â„¹ï¸</div>
                        <div class="notification-content">
                            <p><strong>Dashboard initialisÃ©</strong></p>
                            <small>Bienvenue dans votre espace de travail, Cynthia!</small>
                            <span class="notification-time">Maintenant</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- DonnÃ©es rÃ©centes -->
            <div class="card data-card">
                <h2>ğŸ“Š DonnÃ©es rÃ©centes</h2>
                <div class="data-table">
                    <table id="recentDataTable">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Type</th>
                                <th>PropriÃ©tÃ©</th>
                                <th>Client</th>
                                <th>Statut</th>
                            </tr>
                        </thead>
                        <tbody id="dataTableBody">
                            <tr>
                                <td colspan="5" class="no-data">Aucune donnÃ©e disponible</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </div>
    </main>

    <!-- Scripts -->
    <script src="../../assets/js/identity-protection.js"></script>
    <script src="dashboard.js"></script>

</body>
</html>